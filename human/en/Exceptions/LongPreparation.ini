name = "Long Preparation For Throw";
description = "When throwing an exception, move the preparing code in the exception. This will keep the ``throw`` call simple.";
code = "<?php

// Examples extracted from Alain Schlesser's blog
public function render( $view ): string {
 
   if ( ! $this->views->has( $view ) ) {
      switch ( gettype( $view ) ) {
         case 'object':
            $view = get_class( $view );
         case 'string':
            $message = sprintf(
               'The requested View \"%s\" does not exist.',
               $view
            );
            break;
         default:
            $message = sprintf(
               'An unknown View type of \"%s\" was requested.',
               $view
            );
      }
 
      throw new ViewWasNotFound( $message );
   }
 
   echo $this->views->get( $view )
             ->render();
}

?>";
clearphp = "";
severity = "S_MINOR";
; from : S_NONE, S_MINOR, S_MAJOR, S_CRITICAL
timetofix = "T_QUICK";
; from : T_INSTANT, T_QUICK, T_SLOW
exakatSince = "2.2.0";
precision = "P_HIGH";
; from : P_VERY_HIGH, P_HIGH, P_MEDIUM, P_LOW, P_UNKNOWN
modifications[] = "Move the preparation into the Exception to keep the throw simple";
; Alternative to make this code go away. 
; One by possible solution

features[] = "throw";
features[] = "exception";
; Name of a PHP feature. 
; This should match one of the available feature description in humane/en/Features

seeAlso[] = "`Structuring PHP Exceptions session <https://phpconference.com/blog/structuring-php-exceptions/>`_";
seeAlso[] = "`Best practices for handling exceptional behavior <https://www.nikolaposa.in.rs/blog/2016/08/17/exceptional-behavior-best-practices/>`_";
; List of links of interest

related[] = "";
; Possible other rules that might be related to this one. 
; Use "Folder/Name" format, one each
phpVersion = "";
; Versions when this feature was deprecated. Beyond is removed, and before is fine.
; This might need a range : 7.3-7.4.

phpDeprecation = "";
; Versions when this feature was deprecated. Beyond is removed, and before is fine.
; This might need a range : 7.3-7.4.
phpErrors[] = "";
; A PHP error that may be emitted by the target faulty code

keywords[] = "";
; Human readable keywords for manual glossary

changedBehavior = "";
; Which version did that behavior changed
changedBehavior_details = "";


[parameter1]
name = "preparationLineCount";
default = "8";
type = "integer";
description = "Minimal number of lines before the throw.";
